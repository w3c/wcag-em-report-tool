<div ng-include src="'views/audit/stepbar.html'"></div>

<h1>{{ setTitle( translate('HD_STEP2') ) }}</h1>

<p>{{ 'INTRO_STEP2' | translate }}</p>

<form class="">
  <div class="form-group">
    <label for="common_pages">
      {{ 'LABEL_COMMON_PAGES' | translate }}
    </label>&nbsp;<info-button label="{{'LABEL_INFO' | translate}}"></info-button>

    
    <info-field button="Close info" exitto="common_pages">
      <p ng-bind-html="'INF_COMMON_PAGES' | translateAndLink
      : ['INF_COMMON_PAGES_0', 'http://www.w3.org/TR/WCAG-EM/#step2a']"></p>
    </info-field>
    
    <input-pages pages="explore.commonPages"
    add-page="addPage('commonPages')"
    remove-page="removePage('commonPages')"></input-pages>
  </div><!-- /form-group -->

  <div class="form-group">
    <label for="essential_func">
      {{ 'LABEL_ESSENT_FUNC' | translate }}
    </label>&nbsp;<info-button label="{{'LABEL_INFO' | translate}}"></info-button>

    <info-field button="Close info" exitto="essential_func">
      <p ng-bind-html="'INF_ESSENT_FUNC' | translateAndLink
      : ['INF_ESSENT_FUNC_0', 'http://www.w3.org/TR/WCAG-EM/#step2b'] | nlToBr"></p>
    </info-field>

    <textarea ng-model="explore.essentialFunctionality"
    id="essential_func"
    class="form-control" cols="40" rows="5"></textarea>
  </div><!-- /form-group -->


  <div class="form-group">
    <label for="page_variety">
      {{ 'LABEL_VARIETY_PAGE_TYPES' | translate }}
    </label>&nbsp;<info-button label="{{'LABEL_INFO' | translate}}"></info-button>

    <info-field button="Close info" exitto="page_variety">
      <p ng-bind-html="'INF_VARIETY_PAGE_TYPES' | translateAndLink
      : ['INF_VARIETY_PAGE_TYPES_0', 'http://www.w3.org/TR/WCAG-EM/#step2c']"></p>
    </info-field>

    <textarea ng-model="explore.pageTypeVariety"
    id="page_variety"
    class="form-control" cols="40" rows="5"></textarea>
  </div><!-- /form-group -->


  <div class="form-group" 
  ng-init="col0 = 'visible-xs col-xs-12 form-block-head';
           col1 = 'col-xs-9 col-sm-4 col-md-3 form-block';
           col2 = 'col-xs-9 col-sm-7 col-md-8 form-block';
           col3 = 'hidden-xs col-sm-1 form-block';
           colHide = 'col-xs-3 visible-xs-and-sr form-block';
           row = 'row form-group-inline';
           head = 'row hidden-xs form-block-head';
           delButton = 'btn glyphicon glyphicon-remove-sign'">

  <strong>{{ 'LABEL_RELIEDUP_TECH' | translate }}</strong>&nbsp;<info-button
  label="{{'LABEL_INFO' | translate}}"></info-button>

  <info-field button="Close info"exitto="">
    <p ng-bind-html="'INF_RELIEDUP_TECH' | translateAndLink
    : ['INF_RELIEDUP_TECH_0', 'http://www.w3.org/TR/WCAG-EM/#step2d']
    : ['INF_RELIEDUP_TECH_1', 'http://www.w3.org/TR/WCAG20/#reliedupondef']"></p>
  </info-field>

    <datalist id="data_tech_titles">
      <option ng-repeat="t in knownTech">{{t.title}}</option>
    </datalist> <datalist id="data_tech_specs">
      <option ng-repeat="t in knownTech">{{t.id}}</option>
    </datalist>
    <header ng-class="head" aria-hidden="true">
      <div ng-class="col1">
        {{'LABEL_TECH' | translate}}
      </div> <div ng-class="col2">
        {{'LABEL_TECH_SPEC' | translate}}
      </div>
    </header>

    <div ng-class="row" ng-animate="'animate'"
    ng-repeat="tech in explore.reliedUponTechnology">
      <div ng-class="col0">
        <strong>{{ 'ITEM' | translate }} {{$index+1}}</strong>
        <button class="pull-right" ng-class="delButton"
        ng-click="explore.reliedUponTechnology.splice($index,1)">
          <span class="sr-only">
            {{'BTN_REMOVE_TECH' | translate}}
          </span>
        </button>
      </div>

      <label ng-class="colHide" for="tech_{{$index}}">
        {{'LABEL_TECH' | translate}}:
      </label> <div ng-class="col1">
        <input type="text" class="form-control"
        id="tech_{{$index}}" list="data_tech_titles"
        ng-model="tech.title" ng-change="updateSpec(tech)"
        placeholder="{{'PLH_TECH' | translate}}">
      </div>

      <label ng-class="colHide" for="tech_spec_{{$index}}">
        {{'LABEL_TECH_SPEC' | translate }}:
      </label> <div ng-class="col2">
        <input type="text" class="form-control"
        id="tech_spec_{{$index}}" list="data_tech_specs"
        ng-model="tech.id"
        placeholder="{{'PLH_TECH_SPEC' | translate}}">
      </div>

      <div ng-class="col3">
        <button ng-class="delButton"
        ng-click="explore.reliedUponTechnology.splice($index,1)">
          <span class="sr-only">
            {{'BTN_REMOVE_TECH' | translate}}
          </span>
        </button>
      </div>
    </div><!-- /row -->

    <button ng-click="addTechnology()">
      {{'BTN_ADD_TECH' | translate }}
    </button>
  </div><!-- /form-group -->


  <div class="form-group">
    <label for="other_pages">
      {{ 'LABEL_OTHER_PAGES' | translate }}
    </label>&nbsp;<info-button label="{{'LABEL_INFO' | translate}}"></info-button>

    <info-field button="Close info" exitto="other_pages">
      <p ng-bind-html="'INF_OTHER_PAGES' | translateAndLink
      : ['INF_OTHER_PAGES_0', 'http://www.w3.org/TR/WCAG-EM/#step2e']"></p>
    </info-field>
    
    <input-pages pages="explore.otherRelevantPages"
    add-page="addPage('otherRelevantPages')"
    remove-page="removePage('otherRelevantPages')"></input-pages>
  </div><!-- /form-group -->

</form>

<ul class="nav nav-pills">
  <li><a href="#/audit/scope">
      <span class="glyphicon glyphicon-chevron-left"></span>
      {{'PREV_STEP' | translate}}
  </a></li>
  <li class="pull-right active">
    <a ng-click="processInput()" href="#/audit/sample">
      {{'NEXT_STEP' | translate}}
      <span class="glyphicon glyphicon-chevron-right"></span>
  </a></li>
</ul>